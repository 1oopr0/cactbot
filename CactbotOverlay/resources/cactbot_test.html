<html>
<head>
  <title></title>
  <meta charset="utf-8" />

  <!-- OverlayPlugin widget resize handle -->
  <link rel="stylesheet" href="resize_handle.css">
  <script src="resize_handle.js"></script>

  <style>
		body, html {
      margin: 0;
    }
    html {
      height: 100%;
      overflow: hidden;
      background-color: transparent;

      /* FFXIV font look */
      font-family: "Meiryo";
      font-size: 12px;
      text-shadow: -1px 0 3px #217AA2, 0 1px 3px #217AA2, 1px 0 3px #217AA2, 0 -1px 3px #217AA2;
      font-weight: 300;
      color: #E2EBF5;
    }
    div {
      overflow: hidden;
      padding-left: 2px;
      padding-right: 2px;
    }
  </style>
  <script>
    document.addEventListener("onLogEvent", function (e) {
      document.getElementById("oneLog").innerText = "log: " + e.detail.logs[0];
    });

    document.addEventListener("onZoneChangedEvent", function (e) {
      document.getElementById("currentZone").innerText = "currentZone: " + e.detail.zoneName;
    });

    document.addEventListener("onInCombatChangedEvent", function (e) {
      document.getElementById("inCombat").innerText = "inCombat: " + (e.detail.inCombat ? "yes" : "no");
    });

    document.addEventListener("onPlayerChangedEvent", function (e) {
      document.getElementById("myHP").innerText = "myHP: " + e.detail.currentHP;
      document.getElementById("job").innerText = e.detail.job;
      if (e.detail.job == "RDM") {
        document.getElementById("jobinfo").innerText = e.detail.jobDetail.whiteMana + " | " + e.detail.jobDetail.blackMana;
      }
    });

    document.addEventListener("onTargetChangedEvent", function (e) {
      if (!e.detail) {
        document.getElementById("target").innerText = "--";
        document.getElementById("tdistance").innerText = "";
      } else {
        document.getElementById("target").innerText = e.detail.name;
        document.getElementById("tdistance").innerText = e.detail.distance;
      }
    });

    document.addEventListener("onGameExistsEvent", function (e) {
      //console.log("Game exists: " + e.detail.exists);
    });

    document.addEventListener("onGameActiveChangedEvent", function (e) {
      //console.log("Game active: " + e.detail.active);
    });
  </script>
</head>
<body>
    <div id="currentZone">currentZone: --</div>
    <div id="inCombat">inCombat: no</div>
    <div id="myHP">myHP: --</div>
    <div>job: <span id="job"></span> <span id="jobinfo"></span></div>
    <div>target: <span id="target">--</span> distance: <span id="tdistance"></span></div>
    <div id="oneLog">log: --</div>
</body>
</html>